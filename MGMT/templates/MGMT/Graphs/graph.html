{% extends 'MGMT/main.html' %}

{% block content %}
<script src="https://cdn.zingchart.com/zingchart.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<style>
body {
    background: url("/static/images/finances-graphg.jpg") fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover; 
}
</style>



<div class="container-fluid">
    <div class="card special-card">
        <div class="card-body special-card">
            <ul class="nav nav-pills lb-3" id="pills-tab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="pill" id="pills-expenses-tab" href="#pills-expenses" role="tab" aria-controls="pills-expenses" aria-selected="true">Expenses</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " data-toggle="pill" id="pills-income-tab" href="#pills-income" role="tab" aria-controls="pills-income" aria-selected="true">Income</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" data-toggle="pill" id="pills-savings-tab" href="#pills-savings" role="tab" aria-controls="pills-savings" aria-selected="true">Savings</a>
                </li>
            </ul>
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fate show active" id="pills-expenses" role="tabpanel" aria-labelledby="pills-expenses-tab">
                    <div class="container-fluid">
                        <div class="card-title"><div class="display-4">Expenses</div></div>
                        <div class="card card-body special-card">
                    
                            <div id="Expenses_Chart"></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fate show " id="pills-income" role="tabpanel" aria-labelledby="pills-income-tab">
                    <div class="container-fluid">
                        <div class="card-title"><div class="display-4">Incomes</div></div>
                        <div class="card card-body special-card">
                    
                            <div id="Income_Chart"></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fate show " id="pills-savings" role="tabpanel" aria-labelledby="pills-savings-tab">
        
                </div>
            </div>
        </div>
        
    </div>

</div>


<script type="text/javascript" >

    var expense_dates = JSON.parse("{{expenses_dates|escapejs}}");
    var expense_values = JSON.parse("{{expenses_values|escapejs}}");

    buildExpensesChart()
    function buildExpensesChart(){
        var chartData = {
            "type":"bar",
            "scale-x":{
                "values": expense_dates
            },
            "series":[
                {
                    "values": expense_values 
                }
            ]
        }
        
        zingchart.render({
            id: "Expenses_Chart",
            data: chartData,
        });
    } 


    var income_dates = JSON.parse("{{income_dates|escapejs}}");
    var income_values = JSON.parse("{{income_values|escapejs}}");

    buildIncomeChart()
    function buildIncomeChart(){
        var chartData = {
            "type":"bar",
            "scale-x":{
                "values": income_dates
            },
            "series":[
                {
                    "values": income_values 
                }
            ]
        }
        
        zingchart.render({
            id: "Income_Chart",
            data: chartData,
        });
    } 


    

</script>

{% include 'MGMT/modals.html' %}

{% endblock %}